@using Microsoft.AspNetCore.Identity
@using WebGames.Application.ApplicationUser
@using WebGames.Domain.ApplicationUser
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@inject IUserContext userContext;

@{
	var signedIn = SignInManager.IsSignedIn(User);
}

	@if (signedIn)
	{
		<span class="badge rounded-pill bg-info p-2">Level @userContext.GetCurrentUser()!.Level.ToString()</span>
		<ul class="navbar-nav">
			<li class="nav-item">
			
				<a class="nav-link" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Hello @User.Identity?.Name!
				
				</a>
			</li>
			<li class="nav-item">
				<form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new {area = ""})">
					<button type="submit" class="nav-link btn btn-link">Logout</button>
				</form>
			</li>
		</ul>
	}
	else
	{
		<ul class="navbar-nav">
			<li class="nav-item">
				<a class="nav-link" asp-area="Identity" asp-page="/Account/Register">Register</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" asp-area="Identity" asp-page="/Account/Login">Login</a>
			</li>
		</ul>
	}